"0","set.seed(11)"
"0","folds = sample(rep(1:10,length=nrow(Hitters)))"
"0","folds"
"1","  [1]"
"1","  3"
"1","  1"
"1","  4"
"1","  4"
"1","  7"
"1","  7"
"1","  3"
"1","  5"
"1","  5"
"1","  2"
"1","  5"
"1","  2"
"1","  8"
"1","  3"
"1","  3"
"1","  3"
"1","  9"
"1","  2"
"1","  9"
"1","  8"
"1"," 10"
"1","  5"
"1","  8"
"1","  5"
"1","  5"
"1","  5"
"1","  5"
"1"," 10"
"1","
"
"1"," [29]"
"1"," 10"
"1","  4"
"1","  4"
"1","  7"
"1","  6"
"1","  7"
"1","  7"
"1","  7"
"1","  3"
"1","  4"
"1","  8"
"1","  3"
"1","  6"
"1","  8"
"1"," 10"
"1","  4"
"1","  3"
"1","  9"
"1","  9"
"1","  3"
"1","  4"
"1","  9"
"1","  8"
"1","  7"
"1"," 10"
"1","  6"
"1"," 10"
"1","  3"
"1","
"
"1"," [57]"
"1","  6"
"1","  9"
"1","  4"
"1","  2"
"1","  8"
"1","  2"
"1","  5"
"1","  6"
"1"," 10"
"1","  7"
"1","  2"
"1","  8"
"1","  8"
"1","  1"
"1","  3"
"1","  6"
"1","  2"
"1","  5"
"1","  8"
"1","  1"
"1","  1"
"1","  2"
"1","  8"
"1","  1"
"1"," 10"
"1","  1"
"1","  2"
"1","  3"
"1","
"
"1"," [85]"
"1","  6"
"1","  6"
"1","  5"
"1","  8"
"1","  8"
"1"," 10"
"1","  4"
"1","  2"
"1","  6"
"1","  1"
"1","  7"
"1","  4"
"1","  8"
"1","  3"
"1","  7"
"1","  8"
"1","  7"
"1","  1"
"1"," 10"
"1","  1"
"1","  6"
"1","  2"
"1","  9"
"1"," 10"
"1","  1"
"1","  7"
"1","  7"
"1","  4"
"1","
"
"1","[113]"
"1","  7"
"1","  4"
"1"," 10"
"1","  3"
"1","  6"
"1"," 10"
"1","  6"
"1","  6"
"1","  9"
"1","  8"
"1"," 10"
"1","  6"
"1","  7"
"1","  9"
"1","  6"
"1","  7"
"1","  1"
"1"," 10"
"1","  2"
"1","  2"
"1","  5"
"1","  9"
"1","  9"
"1","  6"
"1","  1"
"1","  1"
"1","  2"
"1","  9"
"1","
"
"1","[141]"
"1","  4"
"1"," 10"
"1","  5"
"1","  3"
"1","  7"
"1","  7"
"1"," 10"
"1"," 10"
"1","  9"
"1","  3"
"1","  3"
"1","  7"
"1","  3"
"1","  1"
"1","  4"
"1","  6"
"1","  6"
"1"," 10"
"1","  4"
"1","  9"
"1","  9"
"1","  1"
"1","  3"
"1","  6"
"1","  8"
"1"," 10"
"1","  8"
"1","  5"
"1","
"
"1","[169]"
"1","  4"
"1","  5"
"1","  6"
"1","  2"
"1","  9"
"1"," 10"
"1","  3"
"1","  7"
"1","  7"
"1","  6"
"1","  6"
"1","  2"
"1","  3"
"1","  2"
"1","  4"
"1","  4"
"1","  4"
"1","  4"
"1","  8"
"1","  2"
"1","  3"
"1","  5"
"1","  9"
"1","  9"
"1"," 10"
"1","  2"
"1","  1"
"1","  3"
"1","
"
"1","[197]"
"1","  9"
"1","  6"
"1","  7"
"1","  3"
"1","  1"
"1","  9"
"1","  4"
"1"," 10"
"1"," 10"
"1","  8"
"1","  8"
"1","  8"
"1","  2"
"1","  5"
"1","  9"
"1","  8"
"1"," 10"
"1","  5"
"1","  8"
"1","  2"
"1","  4"
"1","  1"
"1","  4"
"1","  4"
"1","  5"
"1","  5"
"1","  2"
"1","  1"
"1","
"
"1","[225]"
"1","  9"
"1","  5"
"1","  2"
"1","  9"
"1","  9"
"1","  5"
"1","  3"
"1","  2"
"1","  1"
"1","  9"
"1","  1"
"1","  7"
"1","  2"
"1","  5"
"1","  8"
"1","  1"
"1","  1"
"1","  7"
"1","  6"
"1","  6"
"1","  4"
"1","  5"
"1"," 10"
"1","  5"
"1","  7"
"1","  4"
"1","  8"
"1","  6"
"1","
"
"1","[253]"
"1","  9"
"1","  1"
"1","  2"
"1","  5"
"1","  7"
"1","  1"
"1","  3"
"1","  1"
"1","  3"
"1","  1"
"1","  2"
"1","
"
"0","table(folds)"
"1","folds
"
"1"," 1 "
"1"," 2 "
"1"," 3 "
"1"," 4 "
"1"," 5 "
"1"," 6 "
"1"," 7 "
"1"," 8 "
"1"," 9 "
"1","10 "
"1","
"
"1","27 "
"1","27 "
"1","27 "
"1","26 "
"1","26 "
"1","26 "
"1","26 "
"1","26 "
"1","26 "
"1","26 "
"1","
"
"0","cv_errors = matrix(NA,10,19)"
"0","for(k in 1:10){"
"0","  best_fit = regsubsets(Salary~.,data = Hitters[folds!=k,],nvmax = 19,method = ""forward"")"
"0","  for( i in 1:19){"
"0","    pred = predict_regsubsets(best_fit,Hitters[folds==k,],id=i)"
"0","    cv_errors[k,i]=mean( (Hitters$Salary[folds==k]-pred)^2 )"
"0","  }"
"0","}"
"0","rmse_cv = sqrt(apply(cv_errors,2,mean))"
"0","plot(rmse_cv,pch=19,type = 'b')"
